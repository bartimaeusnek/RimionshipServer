@page
@model RimionshipServer.Pages.Admin.ModSettings

@{
    ViewData["Title"] = "Mod Settings";
}
@section Scripts
{
    <script>
        const editBtn = document.getElementById("editBtn");
        const select = document.getElementById("ActiveSetting"); 
        function reroute() 
        {
            location.href = "@Url.PageLink("CreateNewSetting")" + "?SettingId=" + select.options[select.selectedIndex].value;
        }
        editBtn.onclick = reroute;
    </script>
}
@section Css 
{
    <link rel="stylesheet" href="/css/admin.css">
    <style>
        .tabbed figure { 
           display: block; 
           margin-left: 0; 
           border-bottom: 1px solid silver;
           clear: both;
        }
        
        .tabbed > input,
        .tabbed figure > div { display: none; }
        
        .tabbed figure>div {
          padding: 20px;
          width: 100%;
          border: 1px solid silver;
          background: #fff;
          line-height: 1.5em;
          letter-spacing: 0.3px;
          color: #444;
        }
        #tab1:checked ~ figure .tab1,
        #tab2:checked ~ figure .tab2,
        #tab3:checked ~ figure .tab3 { display: block; }
        nav label {
           float: left;
           padding: 15px 15px;
           border-top: 1px solid silver;
           border-right: 1px solid silver;
           background: #212529;
           color: #eee;
        }
        
        nav label:nth-child(1) { border-left: 1px solid silver; }
        nav label:hover { background: #212529; }
        nav label:active { background: #ffffff; }
        
        #tab1:checked ~ nav label[for="tab1"],
        #tab2:checked ~ nav label[for="tab2"],
        #tab3:checked ~ nav label[for="tab3"] {
          background: white;
          color: #111;
          position: relative;
          border-bottom: none;
        }
        
        #tab1:checked ~ nav label[for="tab1"]:after,
        #tab2:checked ~ nav label[for="tab2"]:after,
        #tab3:checked ~ nav label[for="tab3"]:after {
          content: "";
          display: block;
          position: absolute;
          height: 2px;
          width: 100%;
          background: white;
          left: 0;
          bottom: -1px;
        }
    </style>
}
<div class="text-center">
    <h1>Mod Settings</h1>
    <div class="tabbed">
        <input checked="checked" id="tab1" type="radio" name="tabs" />
        <input id="tab2" type="radio" name="tabs" />
        <input id="tab3" type="radio" name="tabs" />
    
        <nav>
            <label for="tab1">Broadcast Message</label>
            <label for="tab2">Allowed Mods</label>
            <label for="tab3">Game Settings</label>
        </nav>
       
        <figure>
            <div class="tab1">
                <form asp-page-handler="Motd" method="post">
                    <div class="input-group mb-3 justify-content-center">
                        <input name="motd" type="text" style="margin-right: 1%; width: 84%;" placeholder="@Model.Motd"/>
                        <div class="input-group-prepend" style="width: 15%;">
                            <button class="btn btn-outline-dark form-control" type="submit">Set Broadcast Message</button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="tab2">
                <partial name="_ModList" model=Model></partial> </div>
            <div class="tab3">
                <form asp-page-handler="Setting" method="post">
                    <div class="input-group mb-3 justify-content-center">
                        <div style="margin-right: 1%;">
                            <div>Currently Active: @Model.ActiveSetting</div>
                            @Html.DropDownListFor(x => x.ActiveSetting, Model.SettingsSelect)
                        </div>
                        <div class="input-group-prepend" style="width: 15%;">
                            <button class="btn btn-outline-dark form-control" type="submit">Select Active Setting</button>
                            <div style="margin-top: 2%">
                                <a id="editBtn" class="btn btn-outline-dark form-control" href="#">Edit Selected Setting</a>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </figure>
    </div>
</div>