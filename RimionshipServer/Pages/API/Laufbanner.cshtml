@page "{time:int=10}"
@model RimionshipServer.Pages.Api.Laufbanner

@{
    Layout = null;
}

<!DOCTYPE html>
@{
    var seconds = int.Parse(RouteData.Values["time"]!.ToString()!);
}
<html>
<head>
@{
#if DEBUG
}
    <link rel="stylesheet" href="/css/fonts.css">
@{
#else
}
    <link rel="stylesheet" href="/css/fonts.min.css">
@{
#endif
}
    <style>
    	.marquee {
    		max-width: 100vw;
    		white-space: nowrap;
    		overflow: hidden;
    		font-weight: bold;
    		font-size: xx-large;
    		color: #9d9d9c;
    		font-family: 'Roboto Condensed', sans-serif;
    	}
        
    	.marquee span {
    		display: inline-block;
    		padding-left: 100%;
    		animation: marquee @(Model.Entries.Count() * seconds)s linear infinite;
    	}
    
    	@@keyframes marquee {
    	    0%   {transform: translate3d(0,0,0);}
    	    100% {transform: translate3d(-100%,0,0);}
    	}
    </style>

    <title></title>
</head>
<body>
<div>
    <div id="marquee" class="marquee">
		 @if (Model.Entries.Count() > 0)
		 {
        <span>
            @{
                var toShow = Model.Entries.Aggregate("", (current, modelEntry) => current + $" #{(modelEntry.Item1 + 1)}: {modelEntry.Item2} {modelEntry.Item3} ◈ ");
                toShow = toShow[..^2];
            }
            @toShow
        </span>
		 }
    </div>
</div>
<script type="text/javascript" defer="">
    window.setTimeout(() => {window.location = window.location}, @(Model.Entries.Count() * seconds * 1000));
</script>
</body>
</html>